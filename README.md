# Cookie Activity Analyzer

A TypeScript application that analyzes cookie activity from CSV files and finds the most active cookies for a given date.

## Features

- **Winston Logging**: Professional logging with file and console outputs
- **TypeScript with ts-node**: No need to build - run directly with ts-node
- **Modular Architecture**: Clean separation of concerns
- **Error Handling**: Comprehensive error handling and validation
- **Stream Processing**: Efficient processing of large CSV files

## Project Structure

```
├── src/
│   ├── __test__/      # Test files
│   │   ├── helper.test.ts
│   │   ├── index.test.ts
|   |──setupFile
│   │   └── setup.ts
│   ├── data/          # Sample data
│   │   └── cookies.csv
│   ├── helper.ts      # Helper functions
│   ├── index.ts       # Main application logic
│   ├── logs/          #  Winston logger 
│   │   └──  logger.ts  
│   └── types.ts       # TypeScript type definitions
├── logs/              # Log files generated by Winston
├── jest.config.js     # Jest configuration
├── package.json       # Project dependencies and scripts
├── package-lock.json  # Dependency lock file
├── readme.md          # This README file
└── tsconfig.json      # TypeScript compiler configuration
```

## Installation

```bash
npm install
```

## Usage

### Development (with auto-reload)
```bash
npm run dev -- -f sample_cookie_log.csv -d 2018-12-09
```

### Production
```bash
npm start -- -f sample_cookie_log.csv -d 2018-12-09
```

### Testing
```bash
# Run all tests
npm test
```

## CSV Format

The input CSV file should have the following format:
```
cookie,timestamp
AtY0laUfhglK3lC7,2018-12-09T14:19:00+00:00
SAZuXPGUrfbcn5UA,2018-12-09T10:13:00+00:00
```

## Logging

- **Console**: Colored output for development
- **Files**: 
  - `logs/combined.log` - All log levels
  - `logs/error.log` - Error logs only

## Key Improvements

1. **Consistent Logging**: Uses Winston instead of mixing console.log and custom logger
2. **No Build Required**: Uses ts-node for direct TypeScript execution
3. **Modular Design**: Separated helpers and core logic
4. **Better Error Handling**: Consistent error handling throughout
5. **Professional Structure**: Industry-standard project organization